<ns-action-bar
  [title]="isLogin ? 'Login' : 'Signup'"
  [showBackButton]="false"
  [hasMenu]="false"
>
</ns-action-bar>
<StackLayout class="form" [formGroup]="loginForm">
  <StackLayout class="input-field">
    <Label
      text="E-Mail"
      class="label"
      [ngClass]="{ invalid: !emailControlIsValid }"
    >
    </Label>
    <TextField
      class="input"
      returnKeyType="next"
      keyboardType="email"
      autocapitalizationType="none"
      formControlName="email"
      #emailEl
      [autocorrect]="false"
    >
    </TextField>
    <Label
      *ngIf="!emailControlIsValid"
      class="invalid"
      text="Please enter a valid email."
    >
    </Label>
  </StackLayout>
  <StackLayout class="input-field">
    <Label
      class="label"
      text="Password"
      [ngClass]="{ invalid: !passwordControlIsValid }"
    >
    </Label>
    <TextField
      class="input"
      returnKeyType="done"
      hint="Min 6 characters."
      autocapitalizationType="none"
      formControlName="password"
      #passwordEl
      [autocorrect]="false"
      [secure]="true"
      (returnPress)="onDone()"
    >
    </TextField>
    <Label
      *ngIf="!passwordControlIsValid"
      class="invalid"
      text="Please enter a valid password."
    >
    </Label>
  </StackLayout>
  <Button
    class="btn-flat fs-small"
    [text]="isLogin ? 'Signup Instead' : 'Login Instead'"
    (tap)="onSwitch()"
  ></Button>

  <Button
    *ngIf="!isLoading"
    class="btn btn-primary fs-medium-2"
    width="40%"
    [text]="isLogin ? 'Login' : 'Sign Up'"
    [isEnabled]="loginForm.valid"
    [clearHistory]="true"
    (tap)="login()"
  ></Button>
  <ActivityIndicator [busy]="isLoading"></ActivityIndicator>
</StackLayout>
